webpackJsonp([18,22],{13:function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(5),a=i(n);e["default"]={methods:{clearField:function(t){this.user[t]=""},showError:function(t){var e=this.$validation;this.$root.showToast({text:a["default"].find(e.errors,function(e){return e.field===t}).message})},showFirstError:function(){this.validationFork&&this.updateValidation();var t=this.validationFork||this.$validation;this.$root.showToast({text:t.errors[0].message})},validate:function(t,e){var o=this.$validation;o[t].invalid&&o[t].touched&&this.$validate(t,function(){e&&e()})}}}},26:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={methods:{startCountDown:function(){this.captchaCountdown.show=!0,this.captchaCountdown.start=!0,this.captchaCountdown.text="等待"},resetCountDown:function(){this.captchaCountdown.time=59,this.captchaCountdown.show=!1,this.captchaCountdown.start=!1,this.captchaCountdown.text="短信获取"}},data:function(){return{captchaCountdown:{text:"短信获取",show:!1,time:59,start:!1}}}}},30:function(t,e,o){!function(e,o){t.exports=o()}(this,function(){return function(t){function e(i){if(o[i])return o[i].exports;var n=o[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){t.exports=o(3)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:{time:{type:Number,"default":60},start:{type:Boolean,"default":!0}},methods:{tick:function(){var t=this;this.interval=setInterval(function(){t.time>0?t.time--:(t.stop(),t.index++,t.$emit("on-finish",t.index))},1e3)},stop:function(){clearInterval(this.interval)}},watch:{start:function(t,e){t===!0&&e===!1&&this.time>0&&this.tick(),t===!1&&e===!0&&this.stop()}},ready:function(){this.start&&this.tick()},data:function(){return{interval:null,index:0}}}},function(t,e){t.exports=" <span>{{time}}</span> "},function(t,e,o){var i,n;i=o(1),n=o(2),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)}])})},224:function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(30),a=i(n),s=o(13),r=i(s),c=o(26),u=i(c),l=o(4);e["default"]={mixins:[r["default"],u["default"]],components:{Countdown:a["default"]},methods:{getCaptcha:function(){var t=this;this.$root.log({name:"短信获取"}),this.$validate("mobile",function(){t.$validation.mobile.invalid?t.$root.showToast({text:"请正确输入11位手机号码"}):(t.startCountDown(),l.recoveries.get({content:"captcha",mobile:t.user.mobile,channel:"sms"})["catch"](function(e){t.$root.showToast({text:e.json().error||"获取失败"}),t.resetCountDown()}))})},onSubmit:function(){var t=this;this.$validate(!0,function(){t.$validation.invalid?t.showFirstError():(t.$root.showLoadingStatus(),l.recoveries.update({content:"validate_captcha"},t.user).then(function(){t.$root.hideLoadingStatus(),t.$router.go({name:"forgetPassword2",query:{mobile:t.user.mobile}})},function(e){t.$root.hideLoadingStatus(),t.$root.showToast({text:e.json().error||"抱歉，验证失败！"})}))})}},data:function(){return{user:{mobile:this.$route.query.mobile||"",captcha:""},fields:[{name:"mobile",placeholder:"您的手机号码",type:"number",iconName:"icon-user",validate:{required:!0,mobile:!0}},{name:"captcha",placeholder:"请输入验证码",type:"number",iconName:"icon-user",validate:{required:!0,pattern:{rule:"/^\\d{4}$/",message:"验证码错误"}}}]}}}},310:function(t,e){t.exports='<div class="form-container register-container"><validator name=validation><form autocomplete=off action="" novalidate="" @submit.prevent=onSubmit($event)><div v-for="field in fields" class=form-group><div v-validate-class="" v-kt-toggle-onfucusblur="" child=input toggle-class=focus :class="{\'not-empty\': !!user[field.name]}" class=input><i :class=field.iconName class=icon-pano></i><input autocomplete=off @input=validate(field.name) initial=off detect-change=off detect-blur=off :type=field.type v-model=user[field.name] :name=field.name :placeholder=field.placeholder :field=field.name v-validate=field.validate /><div class=status><button :disabled=captchaCountdown.show v-if="field.name === \'captcha\'" @click.prevent=getCaptcha() class=inset-button><span v-cloak="">{{captchaCountdown.text}}</span><countdown v-show=captchaCountdown.show :start=captchaCountdown.start :time.sync=captchaCountdown.time @on-finish=resetCountDown()></countdown></button><i v-touch:tap=clearField(field.name) class="weui_icon weui_icon_clear"></i><i v-touch:tap=showError(field.name) class="weui_icon weui_icon_warn"></i><i class="weui_icon weui_icon_success"></i></div></div><div v-if=field.comment v-cloak="" class=input-comment>{{field.comment}}</div></div><div class=form-group><button @click="$root.log({name: \'下一步\'})">下一步</button></div></form></validator></div>'},343:function(t,e,o){var i,n;i=o(224),n=o(310),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)}});